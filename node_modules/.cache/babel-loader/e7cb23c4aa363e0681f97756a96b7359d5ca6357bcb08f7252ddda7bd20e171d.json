{"ast":null,"code":"// src/utils/dataHandlers.js\nexport const handleDownloadBoard=data=>{const jsonData=JSON.stringify(data);const blob=new Blob([jsonData],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='курс.json';document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};export const handleLoadBoard=(event,setData)=>{const file=event.target.files[0];if(file){const reader=new FileReader();reader.onload=e=>{try{let loadedData=JSON.parse(e.target.result);// Преобразуем все id в строки\nloadedData={...loadedData,lists:loadedData.lists.map(list=>({...list,id:String(list.id),cards:list.cards.map(card=>({...card,id:String(card.id)}))}))};setData(loadedData);}catch(error){console.error(\"Ошибка при разборе JSON:\",error);alert(\"Не удалось загрузить доску. Неверный формат файла.\");}};reader.readAsText(file);}};export const handleDeleteBoard=setData=>{setData({lists:[]});};","map":{"version":3,"names":["handleDownloadBoard","data","jsonData","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleLoadBoard","event","setData","file","target","files","reader","FileReader","onload","e","loadedData","parse","result","lists","map","list","id","String","cards","card","error","console","alert","readAsText","handleDeleteBoard"],"sources":["C:/Users/zulda/Desktop/5/src/utils/dataHandlers.js"],"sourcesContent":["// src/utils/dataHandlers.js\r\n\r\nexport const handleDownloadBoard = (data) => {\r\n  const jsonData = JSON.stringify(data);\r\n  const blob = new Blob([jsonData], { type: 'application/json' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = 'курс.json';\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n};\r\n\r\nexport const handleLoadBoard = (event, setData) => {\r\n  const file = event.target.files[0];\r\n  if (file) {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        let loadedData = JSON.parse(e.target.result);\r\n\r\n        // Преобразуем все id в строки\r\n        loadedData = {\r\n          ...loadedData,\r\n          lists: loadedData.lists.map(list => ({\r\n            ...list,\r\n            id: String(list.id),\r\n            cards: list.cards.map(card => ({\r\n              ...card,\r\n              id: String(card.id)\r\n            }))\r\n          }))\r\n        };\r\n        setData(loadedData);\r\n      } catch (error) {\r\n        console.error(\"Ошибка при разборе JSON:\", error);\r\n        alert(\"Не удалось загрузить доску. Неверный формат файла.\");\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  }\r\n};\r\n\r\nexport const handleDeleteBoard = (setData) => {\r\n  setData({ lists: [] });\r\n};"],"mappings":"AAAA;AAEA,MAAO,MAAM,CAAAA,mBAAmB,CAAIC,IAAI,EAAK,CAC3C,KAAM,CAAAC,QAAQ,CAAGC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,CACrC,KAAM,CAAAI,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACJ,QAAQ,CAAC,CAAE,CAAEK,IAAI,CAAE,kBAAmB,CAAC,CAAC,CAC/D,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CACrC,KAAM,CAAAM,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGN,GAAG,CACZG,CAAC,CAACI,QAAQ,CAAG,WAAW,CACxBH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,CAAC,CAAC,CAC5BA,CAAC,CAACO,KAAK,CAAC,CAAC,CACTN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,CAAC,CAAC,CAC5BF,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC,CAC1B,CAAC,CAED,MAAO,MAAM,CAAAa,eAAe,CAAGA,CAACC,KAAK,CAAEC,OAAO,GAAK,CACjD,KAAM,CAAAC,IAAI,CAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClC,GAAIF,IAAI,CAAE,CACR,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK,CACrB,GAAI,CACF,GAAI,CAAAC,UAAU,CAAG5B,IAAI,CAAC6B,KAAK,CAACF,CAAC,CAACL,MAAM,CAACQ,MAAM,CAAC,CAE5C;AACAF,UAAU,CAAG,CACX,GAAGA,UAAU,CACbG,KAAK,CAAEH,UAAU,CAACG,KAAK,CAACC,GAAG,CAACC,IAAI,GAAK,CACnC,GAAGA,IAAI,CACPC,EAAE,CAAEC,MAAM,CAACF,IAAI,CAACC,EAAE,CAAC,CACnBE,KAAK,CAAEH,IAAI,CAACG,KAAK,CAACJ,GAAG,CAACK,IAAI,GAAK,CAC7B,GAAGA,IAAI,CACPH,EAAE,CAAEC,MAAM,CAACE,IAAI,CAACH,EAAE,CACpB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CACDd,OAAO,CAACQ,UAAU,CAAC,CACrB,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDE,KAAK,CAAC,oDAAoD,CAAC,CAC7D,CACF,CAAC,CACDhB,MAAM,CAACiB,UAAU,CAACpB,IAAI,CAAC,CACzB,CACF,CAAC,CAED,MAAO,MAAM,CAAAqB,iBAAiB,CAAItB,OAAO,EAAK,CAC5CA,OAAO,CAAC,CAAEW,KAAK,CAAE,EAAG,CAAC,CAAC,CACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}